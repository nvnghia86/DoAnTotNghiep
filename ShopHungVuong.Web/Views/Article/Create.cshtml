@model DataAccess.Models.Article
@*@model ShopHungVuong.Web.Models.ArticleModelView*@

@{
	ViewBag.Title = "Create";
	Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@*<link href="~/dataAdmin/dataTable/skins/_all-skins.min.css" rel="stylesheet" />
	<link href="~/dataAdmin/bootstrap3-wysihtml5.min.css" rel="stylesheet" />*@
<link href="~/assets/ckeditor/css/sample.css" rel="stylesheet" />
<link rel="stylesheet"
	  href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
<h2>Create</h2>

@using (Html.BeginForm())
{
	@Html.AntiForgeryToken()

	<div class="form-horizontal">
		<h4>Article</h4>
		<hr />
		@Html.ValidationSummary(true, "", new { @class = "text-danger" })
		<div class="form-group">
			@*@Html.LabelFor(model => model.ArticleGroupId, "ArticleGroupId", htmlAttributes: new { @class = "control-label col-md-2" })*@
			<label class="col-md-2">Nhóm tin tức</label>
			
			<div class="col-md-10">
				@Html.DropDownList("ArticleGroupId", null, htmlAttributes: new { @class = "form -control" })

				@Html.ValidationMessageFor(model => model.ArticleGroupId, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			@*@Html.LabelFor(model => model.Author, htmlAttributes: new { @class = "control-label col-md-2" })*@
			<label class="col-md-2">Tác giả</label>
			<div class="col-md-10">
				@Html.EditorFor(model => model.Author, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Author, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			@*@Html.LabelFor(model => model.Title, htmlAttributes: new { @class = "control-label col-md-2" })*@
			<label class="col-md-2">Tiêu đề</label>
			<div class="col-md-10">
				@Html.EditorFor(model => model.Title, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			@*@Html.LabelFor(model => model.Sumary, htmlAttributes: new { @class = "control-label col-md-2" })*@
			<label class="col-md-2">Tóm tắt</label>
			<div class="col-md-10">
				@Html.EditorFor(model => model.Sumary, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Sumary, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			@*@Html.LabelFor(model => model.Photo, htmlAttributes: new { @class = "control-label col-md-2" })*@
			<label class="col-md-2">Banner</label>
			<div class="col-md-10">
				@Html.EditorFor(model => model.Photo, new { htmlAttributes = new { @class = "form-control" } })
				@Html.ValidationMessageFor(model => model.Photo, "", new { @class = "text-danger" })

			</div>
		</div>

		<div class="form-group">
			@*@Html.LabelFor(model => model.Detail, htmlAttributes: new { @class = "control-label col-md-2" })*@
			<label class="col-md-2">Nội dung</label>
			<div class="col-md-10">
				<div class="box box-info">
					<div class="box-header">
						<h3 class="box-title">
							Nội dung vài viết
							<small></small>
						</h3>
						<!-- tools box -->
						<div class="pull-right box-tools">
							<button type="button" class="btn btn-info btn-sm" data-widget="collapse" data-toggle="tooltip" title="" data-original-title="Collapse">
								<i class="fa fa-minus"></i>
							</button>
							<button type="button" class="btn btn-info btn-sm" data-widget="remove" data-toggle="tooltip" title="" data-original-title="Remove">
								<i class="fa fa-times"></i>
							</button>
						</div>
						<!-- /. tools -->
					</div>
					<!-- /.box-header -->
					<div class="box-body pad">
						<form>
							@*@Html.EditorFor(m => m.Detail, new { rows = "10", cols = "80", style = "visibility: hidden; display: none;" })*@
							<textarea id="Detail" name="Detail" rows="10" cols="80" style="visibility: hidden; display: none;">

								</textarea>
							<div id="cke_editor1" class="cke_1 cke cke_reset cke_chrome cke_editor_editor1 cke_ltr cke_browser_webkit" dir="ltr" lang="vi" role="application" aria-labelledby="cke_editor1_arialbl">
								<span id="cke_editor1_arialbl" class="cke_voice_label">Bộ soạn thảo văn bản có định dạng, editor1</span>
							</div>
							<script>
								$(function () {
									CKEDITOR.replace('Detail', {
										filebrowserBrowseUrl: '../../../assets/images/',
										//filebrowserUploadUrl: '/ckfinder/connector?command=QuickUpload&type=Files'
									});
								})
							</script>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="form-group">
			@*@Html.LabelFor(model => model.PostDate, htmlAttributes: new { @class = "control-label col-md-2" })*@
			<label class="col-md-2">Ngày đăng</label>
			<div class="col-md-10">
				@*@Html.EditorFor(model => model.PostDate, new { htmlAttributes = new { @class = "form-control" } })*@
				<input type="date" id="PostDate" name="PostDate"/>
				@Html.ValidationMessageFor(model => model.PostDate, "", new { @class = "text-danger" })
			</div>
		</div>

		<div class="form-group">
			<div class="col-md-offset-2 col-md-10">
				<input type="submit" value="Tạo" id="btnSubmit" class="btn btn-default" />
			</div>
		</div>
	</div>
}
<style>
	div.ck-editor__editable {
		min-height: 200px;
	}
</style>
<div>
	@Html.ActionLink("Quay lại", "Index")
</div>
@section editscript {
	@*<script src="~/dataAdmin/dataTable/fastclick.js"></script>
		<script src="~/dataAdmin/dataTable/demo.js"></script>
		<script src="~/dataAdmin/dataTable/ckeditor.js"></script>
		<script src="~/assets/ckeditor/js/html5shiv.min.js"></script>*@

	<script src="~/assets/ckeditor/js/sf.js"></script>
	<script src="~/assets/ckeditor/js/tree-a.js"></script>
	<script src="https://cdn.ckeditor.com/4.9.2/standard-all/ckeditor.js"></script>
	<script src="https://cdn.ckeditor.com/ckeditor5/10.0.1/classic/ckeditor.js"></script>
	<script src="~/assets/ckeditor/ckfinder.js"></script>

	<script src="//cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js" type="text/javascript"></script>
}
@*<script>
		$('.btnSubmit').click(function () {
			if (ValidateContribute()) {
				var Title = $("#Title").val();
				var TechnologyId = "";
				$('input[name="blankCheckbox"]:checked').each(function () {
					if (this.value != '')
						TechnologyId = this.value;
				});

				var Description = $("#Description").val();
				var Content = CKEDITOR.instances['editor'].getData();
				var ContributeModel = {
					Title: Title,
					TechnologyId: TechnologyId,
					Description: Description,
					Contents: Content,
				}

				$.ajax({
					url: 'Contribute/Contribute',
					type: 'POST',
					data: JSON.stringify(ContributeModel),
					contentType: 'application/json;charset=utf-8',
					success: function (data) {
						if (data.success == true) {
							window.location.href = "../Account/Home";
						}
						else if (data.success == false) {
							alert("Error occured..!!")
						}
					},
					error: function () {
						alert("Error occured..!!");
					},
				});
			}
		});
	</script>*@